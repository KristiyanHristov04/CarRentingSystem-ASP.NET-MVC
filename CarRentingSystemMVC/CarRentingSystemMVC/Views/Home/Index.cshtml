@using CarRentingSystemMVC.Models.Car;
@model List<CarViewModel>

@{
    ViewData["Title"] = "Home Page";
}

<div class="text-center text-white content bg-dark bg-opacity-75 p-4">
    <h1 class="display-4">Welcome To Car Rents</h1>
    <p class="fst-italic">
        your gateway to a world of convenience and exploration on wheels. We're dedicated to making your journey as smooth as possible, from the moment you land on this page to the moment you return your keys.
    </p>
    <h3>Lastly added cars for rent</h3>
    <p>(Total listed cars: @ViewBag.TotalCars)</p>
    <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-indicators">
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button>
        </div>
        <div class="carousel-inner">
            @{
                bool isFirst = false;
            }

            @foreach (CarViewModel car in Model)
            {
                if (!isFirst)
                {
                    <div class="carousel-item active" data-bs-interval="3000">
                        <img src="@car.ImageUrl" class="d-block w-100" alt="@car.Brand - @car.Model Image">
                        <div class="carousel-caption d-none d-md-block">
                            <div class="bg-dark bg-opacity-75 p-2">
                                <h5>@car.Brand - @car.Model (@car.CategoryName)</h5>
                                <p class="mb-0">Available for @car.Price$</p>
                            </div>
                        </div>
                    </div>
                    isFirst = true;
                }
                else
                {
                    <div class="carousel-item" data-bs-interval="3000">
                        <img src="@car.ImageUrl" class="d-block w-100" alt="@car.Brand - @car.Model Image">
                        <div class="carousel-caption d-none d-md-block">
                            <div class="bg-dark bg-opacity-75 p-2">
                                <h5>@car.Brand - @car.Model (@car.CategoryName)</h5>
                                <p class="mb-0">Available for @car.Price$</p>
                            </div>
                        </div>
                    </div>
                }
            }
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>
    <a class="btn btn-success mt-4" asp-area="Identity" asp-page="/Account/Register">JOIN NOW <i class="fa-solid fa-arrow-up-right-from-square"></i></a>
</div>

@section IndexCss {
    <link rel="stylesheet" href="~/css/Index.css" />
}
